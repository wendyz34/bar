<!DOCTYPE html>
<html lang="en">


<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>CSV Line Chart</title>
 <script src="https://cdn.jsdelivr.net/npm/chart.js/dist/Chart.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>-->
</head>

<!--html-->
<body>
 <canvas id="myChart"></canvas>
 <script>

//js
 async function getData() {
   try {
     const response = await fetch("shooting.csv");
     const data = await response.text();
     const rows = data.split("\n").slice(1);


     const area = [];
     const murderStat = [];


     rows.forEach((elem) => {
       const row = elem.split(",");
       const bourough = row[3];
       const count = row[9];
       area.push(bourough);
       murderStat.push(Number(count));
     });


     createChart(area, murderStat);
   } catch (error) {
     console.error("Error fetching data:", error);
   }
 }
function createChart(labels, data) {
    const bourough = [
       'BRONX',
       'BROOKLYN',
       'MAHATTAN',
       'QUEENS',
       'STATEN ISLAND'
    ];
   const ch = document.getElementById('myChart');
   const label = Utils.bourough({count: 5});
   const myChart = new Chart(ch, {
     type: 'line',
     data: {
       labels: labels,
         label: 'NYPD shooting',
         data: data,
        /* backgroundColor: [
        'rgba(255, 99, 132, 0.2)',
        'rgba(255, 159, 64, 0.2)',
        'rgba(255, 205, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)',
        'rgba(54, 162, 235, 0.2)',
        'rgba(153, 102, 255, 0.2)',
        'rgba(201, 203, 207, 0.2)'
        ],*/
     },
     options: {
       scales: {
        y: {
             beginAtZero: true
        }
       }
     }
   });
 }
 getData();
</script>


</body>


</html>